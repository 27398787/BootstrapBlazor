<Button @onclick="@OnClick">点击打开 Dialog</Button>
<Logger @ref="Trace" class="mt-3" />

private async Task OnClick()
{
    var result = await DialogService.ShowDialog(new ComplexDialogOption<ComplexDialogDemo>() {Title = "我是服务创建的弹出框",});
   Trace?.Log($"DialogResult:{result.dialogResult}, 获取到的值为{(result.component == null ? "NULL" : result.component.SelectedValue)}");
}

ComplexDialogDemo.razor：

@inherits ComplexDialogBase

@inject MessageService MessageService

<h3>ComplexDialogDemo</h3>

<Button Text="内部关闭对话框" OnClick="@OnButtonClick"></Button>


@code {
    ///
    public string? SelectedValue { get; set; }
    ///
    ///
    public override void OnDialogClosing(DialogEventArgs e)
    {
        if (e.DialogResult == DialogResult.Yes)
        {
            MessageService?.Show(new MessageOption()
            {
                Content = "点击确认的话无法通过验证"
            });
            e.Cancel = true;
        }
        else
        {
            SelectedValue = "外部按钮关闭的对话框";
        }
    }

    private void OnButtonClick()
    {
        SelectedValue = "点击内部关闭";
        DialogCloseAction?.Invoke(DialogResult.Yes);
    }
}
