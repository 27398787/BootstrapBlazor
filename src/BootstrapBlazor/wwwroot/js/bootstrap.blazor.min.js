(function(n){n.extend({bb_tooltip:function(t,i,r,u,f,e){var h={html:f,sanitize:!f,title:r,placement:u,trigger:e},o=n("#"+t),s;i===""?(o.data("bs.tooltip")&&o.tooltip("dispose"),o.tooltip(h)):i==="enable"?(o.data("bs.tooltip")&&o.tooltip("dispose"),o.tooltip(h),s=o.parents("form").find(".is-invalid:first"),s.prop("nodeName")==="INPUT"?s.prop("readonly")?s.trigger("focus"):s.focus():s.prop("nodeName")==="DIV"&&s.trigger("focus")):i==="dispose"?o.data("bs.tooltip")&&o.tooltip(i):(o.data("bs.tooltip")&&o.tooltip("dispose"),o.tooltip(h),o.tooltip(i))},bb_popover:function(t,i,r,u,f,e,o){var s=n("#"+t),h={html:e,sanitize:!1,title:r,content:u,placement:f,trigger:o};i===""?(s.data("bs.popover")&&s.popover("dispose"),s.popover(h)):i==="dispose"?s.data("bs.popover")&&s.popover(i):(s.data("bs.popover")||s.popover(h),s.popover(i))}});n(function(){n(document).on("inserted.bs.tooltip",".is-invalid",function(){n("#"+n(this).attr("aria-describedby")).addClass("is-invalid")});n.fn.popover.Constructor.prototype.isWithContent=function(){var n=this.config.toggle;return["","confirm","datetime-picker","datetime-range"].indexOf(n)||this.getTitle()||this._getContent()};var t=function(t){var i=null,r=t.parents(".popover"),u;return r.length>0&&(u=r.attr("id"),i=n('[aria-describedby="'+u+'"]')),i};n(document).on("click",function(i){var r=!0,u=n(i.target),f=t(u);f!=null&&(r=!1);r&&n('[data-toggle="confirm"][aria-describedby^="popover"]').popover("hide")});n(document).on("click",".popover-confirm-buttons .btn",function(i){var r,u,f;i.stopPropagation();r=t(n(this));r!=null&&(r.popover("hide"),u=r.attr("id"),$ele=n('[data-target="'+u+'"]'),f=this.getAttribute("data-dismiss")==="confirm"?$ele.find(".popover-confirm-buttons .btn:first"):$ele.find(".popover-confirm-buttons .btn:last"),f.trigger("click"))})})})(jQuery);